basePath: /api
definitions:
  domain.BatchTranslationRequest:
    properties:
      context:
        type: string
      key_name:
        type: string
      project_id:
        type: integer
      translations:
        additionalProperties:
          type: string
        type: object
    required:
    - key_name
    - project_id
    - translations
    type: object
  domain.CreateLanguageRequest:
    properties:
      code:
        type: string
      is_default:
        type: boolean
      name:
        type: string
    required:
    - code
    - name
    type: object
  domain.CreateProjectRequest:
    properties:
      description:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  domain.CreateTranslationRequest:
    properties:
      context:
        type: string
      key_name:
        type: string
      language_id:
        type: integer
      project_id:
        type: integer
      value:
        type: string
    required:
    - key_name
    - language_id
    - project_id
    - value
    type: object
  domain.DashboardStats:
    properties:
      total_keys:
        type: integer
      total_languages:
        type: integer
      total_projects:
        type: integer
      total_translations:
        type: integer
    type: object
  domain.Language:
    properties:
      code:
        description: 语言代码，如 en, zh-CN
        type: string
      created_at:
        type: string
      id:
        type: integer
      is_default:
        description: 是否为默认语言
        type: boolean
      name:
        description: 语言名称，如 English, 简体中文
        type: string
      status:
        description: 状态：active, inactive
        type: string
      updated_at:
        type: string
    type: object
  domain.LoginRequest:
    properties:
      password:
        example: password
        type: string
      username:
        example: admin
        type: string
    required:
    - password
    - username
    type: object
  domain.LoginResponse:
    properties:
      refresh_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      user:
        $ref: '#/definitions/domain.User'
    type: object
  domain.Project:
    properties:
      created_at:
        type: string
      description:
        description: 项目描述
        type: string
      id:
        type: integer
      name:
        description: 项目名称
        type: string
      slug:
        description: 项目标识，用于URL
        type: string
      status:
        description: 项目状态：active, archived
        type: string
      updated_at:
        type: string
    type: object
  domain.RefreshRequest:
    properties:
      refresh_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
    required:
    - refresh_token
    type: object
  domain.Translation:
    properties:
      context:
        description: 上下文说明
        type: string
      created_at:
        type: string
      id:
        type: integer
      key_name:
        description: 翻译键名
        type: string
      language_id:
        description: 语言ID
        type: integer
      project_id:
        description: 关联的项目ID
        type: integer
      status:
        description: 状态：active, deprecated
        type: string
      updated_at:
        type: string
      value:
        description: 翻译值
        type: string
    type: object
  domain.UpdateProjectRequest:
    properties:
      description:
        type: string
      name:
        type: string
      status:
        type: string
    type: object
  domain.User:
    properties:
      created_at:
        type: string
      id:
        type: integer
      password:
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  handlers.PushKeysRequest:
    properties:
      defaults:
        additionalProperties:
          type: string
        description: 保持向后兼容（已废弃）
        type: object
      keys:
        items:
          type: string
        type: array
      project_id:
        type: string
      translations:
        additionalProperties:
          additionalProperties:
            type: string
          type: object
        description: 新增：语言代码 -> 键值对映射
        type: object
    required:
    - keys
    - project_id
    type: object
  response.APIResponse:
    properties:
      data: {}
      error:
        $ref: '#/definitions/response.ErrorInfo'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.ErrorInfo:
    properties:
      code:
        type: string
      details:
        type: string
      message:
        type: string
    type: object
  response.Meta:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      total_count:
        type: integer
      total_pages:
        type: integer
    type: object
host: localhost:8080
info:
  contact:
    email: support@example.com
    name: API Support
    url: http://www.example.com/support
  description: i18n-flow 是一个用于管理多语言翻译的系统。
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: i18n-flow API
  version: "1.0"
paths:
  /cli/auth:
    get:
      consumes:
      - application/json
      description: 验证CLI API Key
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: CLI身份验证
      tags:
      - CLI
  /cli/keys:
    post:
      consumes:
      - application/json
      description: 从CLI推送新的翻译键
      parameters:
      - description: 推送键请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.PushKeysRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 推送翻译键
      tags:
      - CLI
  /cli/translations:
    get:
      consumes:
      - application/json
      description: 获取项目翻译数据供CLI使用
      parameters:
      - description: 项目ID
        in: query
        name: project_id
        type: string
      - description: 语言代码
        in: query
        name: locale
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取翻译数据
      tags:
      - CLI
  /dashboard/stats:
    get:
      consumes:
      - application/json
      description: 获取项目、语言、翻译等统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DashboardStats'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取仪表板统计信息
      tags:
      - 仪表板
  /exports/project/{project_id}:
    get:
      consumes:
      - application/json
      description: 导出项目翻译数据
      parameters:
      - description: 项目ID
        in: path
        name: project_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - BearerAuth: []
      summary: 导出翻译
      tags:
      - 翻译管理
  /imports/project/{project_id}:
    post:
      consumes:
      - application/json
      description: 导入项目翻译数据
      parameters:
      - description: 项目ID
        in: path
        name: project_id
        required: true
        type: integer
      - description: 翻译数据，格式为 {\
        in: body
        name: data
        required: true
        schema:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
      - default: '"json"'
        description: 导入格式
        in: query
        name: format
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - BearerAuth: []
      summary: 导入翻译
      tags:
      - 翻译管理
  /languages:
    get:
      consumes:
      - application/json
      description: 获取所有语言列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Language'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取语言列表
      tags:
      - 语言管理
    post:
      consumes:
      - application/json
      description: 创建新的语言
      parameters:
      - description: 语言信息
        in: body
        name: language
        required: true
        schema:
          $ref: '#/definitions/domain.CreateLanguageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Language'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 创建语言
      tags:
      - 语言管理
  /languages/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的语言
      parameters:
      - description: 语言ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 删除语言
      tags:
      - 语言管理
    put:
      consumes:
      - application/json
      description: 更新语言信息
      parameters:
      - description: 语言ID
        in: path
        name: id
        required: true
        type: integer
      - description: 语言信息
        in: body
        name: language
        required: true
        schema:
          $ref: '#/definitions/domain.CreateLanguageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Language'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 更新语言
      tags:
      - 语言管理
  /login:
    post:
      consumes:
      - application/json
      description: 使用用户名和密码获取访问令牌
      parameters:
      - description: 登录凭证
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/domain.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.LoginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 用户登录
      tags:
      - 用户认证
  /projects:
    get:
      consumes:
      - application/json
      description: 获取项目列表，支持分页和关键词搜索
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取项目列表
      tags:
      - 项目管理
    post:
      consumes:
      - application/json
      description: 创建新的翻译项目
      parameters:
      - description: 项目信息
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/domain.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Project'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 创建项目
      tags:
      - 项目管理
  /projects/delete/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的项目
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 删除项目
      tags:
      - 项目管理
  /projects/detail/{id}:
    get:
      consumes:
      - application/json
      description: 根据项目ID获取项目详细信息
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Project'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取项目详情
      tags:
      - 项目管理
  /projects/update/{id}:
    put:
      consumes:
      - application/json
      description: 更新项目信息
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: integer
      - description: 项目信息
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Project'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 更新项目
      tags:
      - 项目管理
  /refresh:
    post:
      consumes:
      - application/json
      description: 使用刷新令牌获取新的访问令牌
      parameters:
      - description: 刷新令牌
        in: body
        name: refresh_token
        required: true
        schema:
          $ref: '#/definitions/domain.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.LoginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 刷新访问令牌
      tags:
      - 用户认证
  /translations:
    post:
      consumes:
      - application/json
      description: 创建新的翻译
      parameters:
      - description: 翻译信息
        in: body
        name: translation
        required: true
        schema:
          $ref: '#/definitions/domain.CreateTranslationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Translation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 创建翻译
      tags:
      - 翻译管理
  /translations/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的翻译
      parameters:
      - description: 翻译ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 删除翻译
      tags:
      - 翻译管理
    get:
      consumes:
      - application/json
      description: 根据翻译ID获取翻译详细信息
      parameters:
      - description: 翻译ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Translation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取翻译详情
      tags:
      - 翻译管理
    put:
      consumes:
      - application/json
      description: 更新翻译信息
      parameters:
      - description: 翻译ID
        in: path
        name: id
        required: true
        type: integer
      - description: 翻译信息
        in: body
        name: translation
        required: true
        schema:
          $ref: '#/definitions/domain.CreateTranslationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Translation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 更新翻译
      tags:
      - 翻译管理
  /translations/batch:
    post:
      consumes:
      - application/json
      description: 批量创建多个翻译，支持两种格式：数组格式和前端对象格式
      parameters:
      - description: 批量翻译请求
        in: body
        name: translations
        required: true
        schema:
          $ref: '#/definitions/domain.BatchTranslationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.APIResponse'
      security:
      - BearerAuth: []
      summary: 批量创建翻译
      tags:
      - 翻译管理
  /translations/batch-delete:
    post:
      consumes:
      - application/json
      description: 批量删除多个翻译
      parameters:
      - description: 翻译ID列表
        in: body
        name: ids
        required: true
        schema:
          items:
            type: integer
          type: array
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 批量删除翻译
      tags:
      - 翻译管理
  /translations/by-project/{project_id}:
    get:
      consumes:
      - application/json
      description: 根据项目ID获取翻译列表
      parameters:
      - description: 项目ID
        in: path
        name: project_id
        required: true
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取项目翻译
      tags:
      - 翻译管理
  /translations/matrix/by-project/{project_id}:
    get:
      consumes:
      - application/json
      description: 获取项目的翻译矩阵（键-语言映射），支持分页
      parameters:
      - description: 项目ID
        in: path
        name: project_id
        required: true
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取翻译矩阵
      tags:
      - 翻译管理
  /user/info:
    get:
      consumes:
      - application/json
      description: 获取已登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.User'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - 用户管理
securityDefinitions:
  BearerAuth:
    description: '输入格式: Bearer {token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
