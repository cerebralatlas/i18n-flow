# i18n-flow CLI

ä¸€ä¸ªå¼ºå¤§çš„ CLI å·¥å…·ï¼Œè½»æ¾ç®¡ç†æ‚¨åº”ç”¨ç¨‹åºçš„ç¿»è¯‘å†…å®¹ã€‚

[![npm version](https://img.shields.io/npm/v/i18n-flow-cli.svg)](https://www.npmjs.com/package/i18n-flow-cli)

ç®€ä½“ä¸­æ–‡ | [English](README.md)

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”„ åœ¨é¡¹ç›®å’Œç¿»è¯‘æœåŠ¡å™¨ä¹‹é—´åŒæ­¥ç¿»è¯‘
- ğŸ” æ‰«ææºä»£ç ä¸­çš„ç¿»è¯‘é”®
- ğŸ“¤ å°†æ–°é”®æ¨é€åˆ°ç¿»è¯‘æœåŠ¡å™¨
- ğŸ“Š æ£€æŸ¥ä¸åŒè¯­è¨€ç¯å¢ƒçš„ç¿»è¯‘çŠ¶æ€
- ğŸ“‚ æ”¯æŒæ‰å¹³å’ŒåµŒå¥—çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„

## å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g i18n-flow-cli

# æˆ–ä½¿ç”¨npx
npx i18n-flow-cli <å‘½ä»¤>
```

## å¿«é€Ÿå¼€å§‹

1. åœ¨é¡¹ç›®ä¸­åˆå§‹åŒ– i18n-flowï¼š

```bash
i18n-flow init
```

2. ä»æœåŠ¡å™¨åŒæ­¥ç¿»è¯‘ï¼š

```bash
i18n-flow sync
```

3. æ‰«æç¿»è¯‘é”®å¹¶æ¨é€åˆ°æœåŠ¡å™¨ï¼š

```bash
i18n-flow push --scan
```

## å‘½ä»¤

### `init`

åœ¨é¡¹ç›®ä¸­åˆå§‹åŒ– i18n-flowã€‚

```bash
i18n-flow init
```

è¿™ä¸ªäº¤äº’å¼è®¾ç½®å°†å¼•å¯¼æ‚¨å®Œæˆä½¿ç”¨ i18n-flow é…ç½®é¡¹ç›®çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š

- æœåŠ¡å™¨ URL
- API å¯†é’¥
- é¡¹ç›® ID
- è¯­è¨€æ–‡ä»¶ç›®å½•
- é»˜è®¤è¯­è¨€ç¯å¢ƒ

### `sync`

å°†ç¿»è¯‘ä»æœåŠ¡å™¨åŒæ­¥åˆ°æœ¬åœ°é¡¹ç›®ã€‚

```bash
i18n-flow sync [é€‰é¡¹]
```

é€‰é¡¹ï¼š

- `-l, --locale <locales>` - è¦åŒæ­¥çš„è¯­è¨€ç¯å¢ƒçš„é€—å·åˆ†éš”åˆ—è¡¨
- `-f, --force` - å¼ºåˆ¶è¦†ç›–æœ¬åœ°ç¿»è¯‘
- `-n, --nested` - ä½¿ç”¨åµŒå¥—ç›®å½•ç»“æ„ï¼ˆæ¯ä¸ªè¯­è¨€ç¯å¢ƒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒæŒ‰é”®çš„ç¬¬ä¸€éƒ¨åˆ†æ‹†åˆ†ï¼‰

### `push`

å°†ç¿»è¯‘é”®æ¨é€åˆ°æœåŠ¡å™¨ã€‚

```bash
i18n-flow push [é€‰é¡¹]
```

é€‰é¡¹ï¼š

- `-s, --scan` - æ‰«ææºæ–‡ä»¶ä¸­çš„ç¿»è¯‘é”®
- `-p, --path <patterns>` - æºæ–‡ä»¶çš„ Glob æ¨¡å¼ï¼ˆé€—å·åˆ†éš”ï¼‰
- `-d, --dry-run` - æ˜¾ç¤ºé”®è€Œä¸æ¨é€åˆ°æœåŠ¡å™¨
- `-n, --nested` - ä½¿ç”¨åµŒå¥—ç›®å½•ç»“æ„ï¼ˆä»æ¯ä¸ªè¯­è¨€ç¯å¢ƒçš„æ–‡ä»¶å¤¹è¯»å–ï¼‰

### `status`

æ£€æŸ¥é¡¹ç›®çš„ç¿»è¯‘çŠ¶æ€ã€‚

```bash
i18n-flow status
```

æ˜¾ç¤ºç¿»è¯‘çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼š

- æ¯ä¸ªè¯­è¨€ç¯å¢ƒçš„é”®æ•°é‡
- æœåŠ¡å™¨ç¼ºå°‘çš„é”®
- æœåŠ¡å™¨ä¸Šæ²¡æœ‰çš„é¢å¤–é”®

## æ–‡ä»¶ç»“æ„

### ä¼ ç»Ÿï¼ˆæ‰å¹³ï¼‰ç»“æ„

é»˜è®¤æƒ…å†µä¸‹ï¼Œi18n-flow ä»¥æ‰å¹³ç»“æ„ç»„ç»‡ç¿»è¯‘ï¼š

```
locales/
  en.json
  fr.json
  zh.json
  ...
```

æ¯ä¸ªæ–‡ä»¶åŒ…å«è¯¥è¯­è¨€ç¯å¢ƒçš„æ‰€æœ‰é”®ï¼š

```json
{
  "account.info": "è´¦æˆ·ä¿¡æ¯",
  "account.settings": "è´¦æˆ·è®¾ç½®",
  "dashboard.title": "ä»ªè¡¨æ¿"
}
```

### åµŒå¥—ç»“æ„

ä½¿ç”¨`-n, --nested`é€‰é¡¹ï¼Œi18n-flow ä»¥åµŒå¥—ç»“æ„ç»„ç»‡ç¿»è¯‘ï¼š

```
locales/
  en/
    account.json
    dashboard.json
  fr/
    account.json
    dashboard.json
  ...
```

æ¯ä¸ªå‘½åç©ºé—´æ–‡ä»¶åªåŒ…å«ç›¸å…³é”®ï¼š

```json
// locales/en/account.json
{
  "info": "è´¦æˆ·ä¿¡æ¯",
  "settings": "è´¦æˆ·è®¾ç½®"
}

// locales/en/dashboard.json
{
  "title": "ä»ªè¡¨æ¿"
}
```

## é…ç½®

é…ç½®å­˜å‚¨åœ¨é¡¹ç›®æ ¹ç›®å½•çš„`.i18nflowrc.json`ä¸­ï¼š

```json
{
  "serverUrl": "https://your-i18n-server.com",
  "apiKey": "your-api-key",
  "projectId": "your-project-id",
  "localesDir": "./src/locales",
  "defaultLocale": "en",
  "sourcePatterns": [
    "src/**/*.{js,jsx,ts,tsx}",
    "!src/**/*.{spec,test}.{js,jsx,ts,tsx}",
    "!**/node_modules/**"
  ],
  "extractorPattern": "(?:t|i18n\\.t)\\(['\"]([\\w\\.\\-]+)['\"]"
}
```

## ä½¿ç”¨ç¤ºä¾‹

### åˆå§‹åŒ–æ–°é¡¹ç›®

```bash
i18n-flow init
```

### ä½¿ç”¨åµŒå¥—ç»“æ„åŒæ­¥ç¿»è¯‘

```bash
i18n-flow sync --nested
```

### ä»åµŒå¥—ç»“æ„æ¨é€é”®

```bash
i18n-flow push --nested
```

### æ‰«æç‰¹å®šæ–‡ä»¶ä»¥æŸ¥æ‰¾é”®

```bash
i18n-flow push --scan --path "src/components/**/*.tsx,src/pages/**/*.tsx"
```

### æ£€æŸ¥ç¿»è¯‘çŠ¶æ€

```bash
i18n-flow status
```
